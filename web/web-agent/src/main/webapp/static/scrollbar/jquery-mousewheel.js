(function(win,udf){'use strict';var $=win.$,datakey='jquery-mousewheel',eventType='wheel mousewheel DOMMouseScroll MozMousePixelScroll',defaults={timeout:456,isPreventDefault:!0,onmousewheelstart:$.noop,onmousewheel:$.noop,onmousewheelend:$.noop};$.fn.mousewheel=function(settings){if($.isFunction(settings))settings={onmousewheel:settings};var run=$.type(settings)==='string',args=[].slice.call(arguments,1),options=$.extend({},defaults),$element,instance;if(run&&run[0]!=='_'){if(!this.length)return;$element=$(this[0]);instance=$element.data(datakey);if(!instance)$element.data(datakey,instance=new Constructor($element[0],options)._init());return Constructor.prototype[settings]?Constructor.prototype[settings].apply(instance,args):udf}else if(!run){options=$.extend(options,settings)}return this.each(function(){var element=this,instance=$(element).data(datakey);if(!instance){$(element).data(datakey,instance=new Constructor(element,options)._init())}})};function Constructor(element,options){var that=this;that.$element=$(element);that.options=options;that.wheelLength=0}Constructor.prototype={_init:function(){var that=this,$element=that.$element,element=$element[0],options=that.options;$element.bind(eventType,function(e){e=e.originalEvent||e;var wheelDeltaY=0;if('wheelDeltaY'in e){wheelDeltaY=e.wheelDeltaY>0?1:-1}else if('deltaY'in e){wheelDeltaY=e.deltaY>0?-1:1}else if('wheelDelta'in e){wheelDeltaY=e.wheelDelta>0?1:-1}if(wheelDeltaY){that._reset();that.wheelLength+=wheelDeltaY;that.timeid=setTimeout(function(){options.onmousewheelend.call(element,that.wheelLength);that.wheelLength=0;that.is=!1},options.timeout);if(!that.is){that.is=!0;options.onmousewheelstart.call(element)}options.onmousewheel.call(element,wheelDeltaY)}if(options.isPreventDefault)e.preventDefault()});return that},_reset:function(){var that=this;if(that.timeid)clearTimeout(that.timeid);that.timeid=0},options:function(key,val){if($.type(key)==='string'&&val===udf)return this.options[key];var map={};if($.type(key)==='object')map=key;else map[key]=val;this.options=$.extend(this.options,map)},preventDefault:function(isPreventDefault){this.options.isPreventDefault=!!isPreventDefault},}})(this);